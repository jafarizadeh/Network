\documentclass{article}
\usepackage{ocgx2}   
\usepackage{xcolor} 
\usepackage{listings}
\definecolor{codebg}{RGB}{245,245,245}
\lstset{
    backgroundcolor=\color{codebg},
    basicstyle=\ttfamily\small,
    frame=single,
    breaklines=true,
    columns=fullflexible,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{orange},
    showstringspaces=false
}

\begin{document}

Here is some regular text. \\
\vspace{0.5cm}


\switchocg{codeblock}{%
    \color{black}\underline{Click here to reveal the code!}%
}


\begin{ocg}{Code Block}{codeblock}{0}
\vspace{0.5cm}
\begin{lstlisting}
Switch1(config)# interface fa0/3
Switch1(config-if)# switchport mode access
Switch1(config-if)# switchport access vlan 10

Switch2(config)# interface fa0/3
Switch2(config-if)# switchport mode access
Switch2(config-if)# switchport access vlan 10

Switch3(config)# interface fa0/3
Switch3(config-if)# switchport mode access
Switch3(config-if)# switchport access vlan 10
\end{lstlisting}
\end{ocg}

\end{document}
